package com.cg.onlinefooddelivery.app.serviceimpl;

import java.util.Optional;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import com.cg.onlinefooddelivery.app.domain.OrderDetail;
import com.cg.onlinefooddelivery.app.exception.OrderNotFoundException;
import com.cg.onlinefooddelivery.app.repository.OrderDetailRepository;
import com.cg.onlinefooddelivery.app.service.OrderDetailService;
/**
 * this OrderDetailService class is used for performing all business related operations
 * @author sweta
 *
 */
@Service
public class OrderDetailServiceImpl implements OrderDetailService {

	@Autowired
	private OrderDetailRepository orderRepository;
	
	
	public OrderDetail SaveOrUpdate(OrderDetail orderDetail) throws OrderNotFoundException {
		try {
		return orderRepository.save(orderDetail);
		}
		catch(Exception e) {
			throw new OrderNotFoundException("");
		}
	}
	
	public Iterable<OrderDetail> getAllOrderDetails(){
		return orderRepository.findAll();
	}
	
	public Optional<OrderDetail> findById(int id) {
		return orderRepository.findById(id);
	
	}
	
	public void deleteOrderDetailsById(int id) throws OrderNotFoundException {
		Optional<OrderDetail> order=orderRepository.findById(id);
		if(order==null) {
			throw new OrderNotFoundException("Order Id already exists");
		}
				orderRepository.deleteById(id);
	}
	
}
